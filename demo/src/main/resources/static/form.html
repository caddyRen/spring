<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="test"></div>
<div id="test1"></div>
<div id="test2"></div>
<div id="test3"></div>
<div id="test4"></div>

<!--react.development.js React核心库-->
<script src="./js/react.development.js" crossorigin></script>
<!--操作DOM的React扩展库-->
<script src="./js/react-dom.development.js" crossorigin></script>
<!--jsx语法代码转纯js语法代码库-->
<script src="./js/babel.min.js"></script>
<script src="./js/prop-types.development.js"></script>

<script type="text/babel">
    class NameForm extends React.Component{
        constructor(props) {
            super(props);
            this.state={isGoing:true,
            numberOfGuests:2}
            this.handleChange=this.handleChange.bind(this)
        }
        handleChange(event){
            const target=event.target;
            const value=target.type==='checkbox'?target.checked:target.value
            const name=target.name;

            this.setState({[name]:value})
        }
        //select
        render(){
            return(
                <form>
                    <label>
                        参与:
                        <input
                            name="isGoing"
                            type="checkbox"
                            checked={this.state.isGoing}
                            onChange={this.handleChange} />
                    </label>
                    <br />
                    <label>
                        来宾人数:
                        <input
                            name="numberOfGuests"
                            type="number"
                            value={this.state.numberOfGuests}
                            onChange={this.handleChange} />
                    </label>
                </form>
            )
        }
    }
    ReactDOM.render(
        <NameForm/>,document.getElementById("test4")
    )
</script>

<script type="text/babel">
    const fruits={'grapefruit':'葡萄柚','mango':'芒果','lime':'酸橙','coconut':'椰子'}
    function Options(props){
        const fruits=props.fruits
        let optins=[]
        console.log(fruits)
        for(var key in fruits){
            console.log(key,":",fruits[key])
            optins.push(<option value={key}>{fruits[key]}</option>)
        }
        return(
           optins.map((item)=>item)
        )
    }
    class NameForm extends React.Component{
        constructor(props) {
            super(props);
            this.state={value:'grapefruit'}
            this.handleChange=this.handleChange.bind(this)
            this.handleSubmit=this.handleSubmit.bind(this)
        }
        handleSubmit(event){
            alert(this.state.value)
            event.preventDefault()

        }
        handleChange(event){
            this.setState({value:event.target.value})
        }
        //select
        render(){
            return(
                <form onSubmit={this.handleSubmit}>
                    <label>fruits:
                        <select value={this.state.value} onChange={this.handleChange}>
                            <Options fruits={fruits}/>
                        </select>
                    </label>
                    <input type="submit" value="提交"/>
                </form>
            )
        }
    }
    ReactDOM.render(
        <NameForm fruits={fruits}/>,document.getElementById("test3")
    )
</script>

<script type="text/babel">
    class NameForm extends React.Component{
        constructor(props) {
            super(props);
            this.state={value:'coconut'}
            this.handleChange=this.handleChange.bind(this)
            this.handleSubmit=this.handleSubmit.bind(this)
        }
        handleSubmit(event){
            alert(this.state.value)
            event.preventDefault()

        }
        handleChange(event){
            this.setState({value:event.target.value})
        }
        //select
        render(){
            return(
                <form onSubmit={this.handleSubmit}>
                    <label>select:
                        <select value={this.state.value} onChange={this.handleChange}>
                            <option value="grapefruit">葡萄柚</option>
                            <option value="mango">芒果</option>
                            <option value="lime">酸橙</option>
                            <option value="coconut">椰子</option>
                        </select>
                    </label>
                    <input type="submit" value="提交"/>
                </form>
            )
        }
    }
    ReactDOM.render(
        <NameForm/>,document.getElementById("test2")
    )
</script>

<script type="text/babel">
    class NameForm extends React.Component{
        constructor(props) {
            super(props);
            this.state={value:'this is textarea'}
            this.handleChange=this.handleChange.bind(this)
            this.handleSubmit=this.handleSubmit.bind(this)
        }
        handleSubmit(event){
            alert(this.state.value)
            event.preventDefault()

        }
        handleChange(event){
            this.setState({value:event.target.value})
        }
        //input
        render(){
            return(
                <form onSubmit={this.handleSubmit}>
                    <label>name:
                         <input type="text" value={this.state.value.toUpperCase()} onChange={this.handleChange}/>
                    </label>
                    <input type="submit" value="提交"/>
                </form>
            )
        }
    }
    ReactDOM.render(
        <NameForm/>,document.getElementById("test1")
    )
</script>
<script type="text/babel">
   class NameForm extends React.Component{
       constructor(props) {
           super(props);
           this.state={value:'this is textarea'}
           this.handleChange=this.handleChange.bind(this)
           this.handleSubmit=this.handleSubmit.bind(this)
       }
       handleSubmit(event){
           alert(this.state.value)
           event.preventDefault()

       }
       handleChange(event){
           this.setState({value:event.target.value})
       }

       //textarea
       render(){
           return(
               <form onSubmit={this.handleSubmit}>
                   <label>textarea:
                       <textarea  value={this.state.value.toUpperCase()} onChange={this.handleChange}/>
                   </label>
                   <input type="submit" value="提交"/>
               </form>
           )
       }
   }
   ReactDOM.render(
       <NameForm/>,document.getElementById("test")
   )
</script>
</body>
</html>