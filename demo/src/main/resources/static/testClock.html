<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="test"></div>
<div id="test1"></div>

<!--react.development.js React核心库-->
<script src="./js/react.development.js" crossorigin></script>
<!--操作DOM的React扩展库-->
<script src="./js/react-dom.development.js" crossorigin></script>
<!--jsx语法代码转纯js语法代码库-->
<script src="./js/babel.min.js"></script>
<script src="./js/prop-types.development.js"></script>
<script type="text/babel">
    class Clock extends React.Component{
        constructor(props) {
            super(props);
            //构造函数内唯一可以初始化状态
            this.state={date: new Date()}
        }
        //生成计时器
        componentDidMount(){
            this.timerID=setInterval(()=>this.tick(),1000)
        }
        //设置状态
        tick() {
            //正确的设置状态方式
            this.setState({date: new Date()})
        }
        //卸载计时器
        componentWillUnmount(){
            clearInterval(this.timerID)
        }

        render(){
            return (
                <div>
                    <h1>Hello Clock</h1>
                    <h2>IT is {this.state.date.toLocaleTimeString()}.</h2>
                </div>
            )
        }
    }

    function FormattedDate(props) {
        return <h2>this is {props.date.toLocaleTimeString()}.</h2>;
    }

    function APP(){
        return (
            <div>
                <Clock/>
                <Clock/>

            </div>
        )
    }

    ReactDOM.render(
        <APP />, document.getElementById("test")
    )
</script>
</body>
</html>